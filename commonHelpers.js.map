{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n  },\n};\n\nconst flatpickrObj = flatpickr('#datetime-picker', options);\nconst startBtn = document.querySelector('button[data-start');\nstartBtn.setAttribute('disabled', true);\nconst flatpickrInput = document.querySelector('#datetime-picker');\n\nconst daysValue = document.querySelector('.value[data-days]');\nconst hoursValue = document.querySelector('.value[data-hours]');\nconst minutesValue = document.querySelector('.value[data-minutes]');\nconst secondsValue = document.querySelector('.value[data-seconds]');\n\nlet userSelectedDate = null;\n\nflatpickrInput.addEventListener('change', () => {\n  const selectedDate = flatpickrObj.selectedDates[0];\n\n  if (selectedDate < new Date()) {\n    iziToast.error({\n      color: 'red',\n      message: 'Please choose a date in the future.',\n      position: 'topRight',\n    });\n    startBtn.setAttribute('disabled', true);\n  } else {\n    startBtn.removeAttribute('disabled');\n    userSelectedDate = selectedDate;\n    console.log(userSelectedDate);\n  }\n});\n\nstartBtn.addEventListener('click', () => {\n  startBtn.setAttribute('disabled', true);\n  flatpickrInput.setAttribute('disabled', true);\n\n  const intervalId = setInterval(() => {\n    const datesDifference = userSelectedDate.getTime() - Date.now();\n\n    if (datesDifference <= 0) {\n      clearInterval(intervalId);\n      startBtn.removeAttribute('disabled');\n      flatpickrInput.removeAttribute('disabled');\n\n      daysValue.textContent = '00';\n      hoursValue.textContent = '00';\n      minutesValue.textContent = '00';\n      secondsValue.textContent = '00';\n\n      return;\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(datesDifference);\n\n    daysValue.textContent = addLeadingZero(days);\n    hoursValue.textContent = addLeadingZero(hours);\n    minutesValue.textContent = addLeadingZero(minutes);\n    secondsValue.textContent = addLeadingZero(seconds);\n  }, 1000);\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n"],"names":["options","selectedDates","flatpickrObj","flatpickr","startBtn","flatpickrInput","daysValue","hoursValue","minutesValue","secondsValue","userSelectedDate","selectedDate","iziToast","intervalId","datesDifference","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"2GAMA,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC7B,CACH,EAEMC,EAAeC,EAAU,mBAAoBH,CAAO,EACpDI,EAAW,SAAS,cAAc,mBAAmB,EAC3DA,EAAS,aAAa,WAAY,EAAI,EACtC,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAE1DC,EAAY,SAAS,cAAc,mBAAmB,EACtDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAElE,IAAIC,EAAmB,KAEvBL,EAAe,iBAAiB,SAAU,IAAM,CAC9C,MAAMM,EAAeT,EAAa,cAAc,CAAC,EAE7CS,EAAe,IAAI,MACrBC,EAAS,MAAM,CACb,MAAO,MACP,QAAS,sCACT,SAAU,UAChB,CAAK,EACDR,EAAS,aAAa,WAAY,EAAI,IAEtCA,EAAS,gBAAgB,UAAU,EACnCM,EAAmBC,EACnB,QAAQ,IAAID,CAAgB,EAEhC,CAAC,EAEDN,EAAS,iBAAiB,QAAS,IAAM,CACvCA,EAAS,aAAa,WAAY,EAAI,EACtCC,EAAe,aAAa,WAAY,EAAI,EAE5C,MAAMQ,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAkBJ,EAAiB,QAAS,EAAG,KAAK,IAAG,EAE7D,GAAII,GAAmB,EAAG,CACxB,cAAcD,CAAU,EACxBT,EAAS,gBAAgB,UAAU,EACnCC,EAAe,gBAAgB,UAAU,EAEzCC,EAAU,YAAc,KACxBC,EAAW,YAAc,KACzBC,EAAa,YAAc,KAC3BC,EAAa,YAAc,KAE3B,MACD,CAED,KAAM,CAAE,KAAAM,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAe,EAEnER,EAAU,YAAcc,EAAeL,CAAI,EAC3CR,EAAW,YAAca,EAAeJ,CAAK,EAC7CR,EAAa,YAAcY,EAAeH,CAAO,EACjDR,EAAa,YAAcW,EAAeF,CAAO,CAClD,EAAE,GAAI,CACT,CAAC,EAED,SAASC,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAEjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASE,EAAeE,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}